/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/summernote@0.8.18/src/js/base/editing/Style.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import env from"../core/env";import func from"../core/func";import lists from"../core/lists";import dom from"../core/dom";export default class Style{jQueryCSS(e,t){if(env.jqueryVersion<1.9){const o={};return $.each(t,(t,n)=>{o[n]=e.css(n)}),o}return e.css(t)}fromNode(e){const t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},o=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(o,10),t["font-size-unit"]=o.match(/[a-z%]+$/),t}stylePara(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),(e,o)=>{$(o).css(t)})}styleNodes(e,t){e=e.splitText();const o=t&&t.nodeName||"SPAN",n=!(!t||!t.expandClosestSibling),s=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(dom.create(o))];let r=dom.makePredByNodeName(o);const i=e.nodes(dom.isText,{fullyContains:!0}).map(e=>dom.singleChildAncestor(e,r)||dom.wrap(e,o));if(n){if(s){const t=e.nodes();r=func.and(r,e=>lists.contains(t,e))}return i.map(e=>{const t=dom.withClosestSiblings(e,r),o=lists.head(t),n=lists.tail(t);return $.each(n,(e,t)=>{dom.appendChildNodes(o,t.childNodes),dom.remove(t)}),lists.head(t)})}return i}current(e){const t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode);let o=this.fromNode(t);try{o=$.extend(o,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||o["font-family"]})}catch(e){}if(e.isOnList()){const e=["circle","disc","disc-leading-zero","square"].indexOf(o["list-style-type"])>-1;o["list-style"]=e?"unordered":"ordered"}else o["list-style"]="none";const n=dom.ancestor(e.sc,dom.isPara);if(n&&n.style["line-height"])o["line-height"]=n.style.lineHeight;else{const e=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=e.toFixed(1)}return o.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),o.ancestors=dom.listAncestor(e.sc,dom.isEditable),o.range=e,o}}
//# sourceMappingURL=/sm/5a27009655b4d9f94293783d57cebb5f0c07b2a245b89cd9a69029a6459609b6.map